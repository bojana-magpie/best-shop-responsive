{"mappings":"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","sources":["app.js"],"sourcesContent":["function Calculator (form, summary) {\r\n    this.prices = {\r\n        products: 0.5,\r\n        orders: 0.25,\r\n        package: {\r\n            basic: 0,\r\n            professional: 25,\r\n            premium: 60\r\n        },\r\n        accounting: 35,\r\n        terminal: 5\r\n    };\r\n\r\n    this.form = {\r\n        products: form.querySelector(\"#products\"),\r\n        orders: form.querySelector(\"#orders\"),\r\n        package: form.querySelector(\"#package\"),\r\n        accounting: form.querySelector(\"#accounting\"),\r\n        terminal: form.querySelector(\"#terminal\")\r\n    };\r\n\r\n    this.summary = {\r\n        list: summary.querySelector(\"ul\"),\r\n        items: summary.querySelector(\"ul\").children,\r\n        total: {\r\n            container: summary.querySelector(\"#total-price\"),\r\n            price: summary.querySelector(\".total__price\"),\r\n        }\r\n    };\r\n\r\n    this.addEvents();\r\n}\r\n\r\nCalculator.prototype.addEvents = function () {\r\n    //inputs\r\n    this.form.products.addEventListener(\"change\", this.inputEvent.bind(this));\r\n    this.form.products.addEventListener(\"keyup\", this.inputEvent.bind(this));\r\n    this.form.orders.addEventListener(\"change\", this.inputEvent.bind(this));\r\n    this.form.orders.addEventListener(\"keyup\", this.inputEvent.bind(this));\r\n\r\n    //select\r\n    this.form.package.addEventListener(\"click\", this.selectEvent.bind(this));\r\n\r\n    //checkboxes\r\n    this.form.accounting.addEventListener(\"change\", this.checkboxEvent.bind(this));\r\n    this.form.terminal.addEventListener(\"change\", this.checkboxEvent.bind(this));\r\n};\r\n\r\nCalculator.prototype.updateTotal = function () {\r\n    const show = this.summary.list.querySelectorAll(\".open\").length > 0;\r\n\r\n    if (show) {\r\n        const productSum = this.form.products.value < 0 ? 0 : this.form.products.value * this.prices.products;\r\n        const orderSum = this.form.orders.value < 0 ? 0 : this.form.orders.value * this.prices.orders;\r\n        const packagePrice = this.form.package.dataset.value.length === 0 ? 0 : this.prices.package[this.form.package.dataset.value];\r\n        const accounting = this.form.accounting.checked ? this.prices.accounting : 0;\r\n        const terminal = this.form.terminal.checked ? this.prices.terminal : 0;\r\n\r\n        this.summary.total.price.innerText = \"$\" + (productSum + orderSum + packagePrice + accounting + terminal);\r\n\r\n        this.summary.total.container.classList.add(\"open\");\r\n    }   else {\r\n        this.summary.total.container.classList.remove(\"open\");\r\n    }\r\n};\r\n\r\nCalculator.prototype.updateSummary = function (id, calc, total, callback) {\r\n    const summary = this.summary.list.querySelector(\"[data-id=\" + id + \"]\");\r\n    const summaryCalc = summary.querySelector(\".item__calc\");\r\n    const summaryTotal = summary.querySelector(\".item__price\");\r\n\r\n    summary.classList.add(\"open\");\r\n\r\n    if (summaryCalc !== null) {\r\n        summaryCalc.innerText = calc;\r\n    }\r\n\r\n    summaryTotal.innerText = \"$\" + total;\r\n\r\n    if (typeof callback === \"function\") {\r\n        callback(summary, summaryCalc, summaryTotal);\r\n    }\r\n};\r\n\r\nCalculator.prototype.inputEvent = function (e) {\r\n    const id  = e.currentTarget.id;\r\n    const value = e.currentTarget.value;\r\n    const singlePrice = this.prices[id];\r\n    const totalPrice = value * singlePrice;\r\n\r\n    this.updateSummary(id, value + \" * $\" + singlePrice, totalPrice, function (item, calc, total) {\r\n        if (value < 0) {\r\n            calc.innerHTML = null;\r\n            total.innerText = \"Value should be greater than 0\";\r\n        }\r\n\r\n        if (value.length === 0) {\r\n            item.classList.remove(\"open\");\r\n        }\r\n    });\r\n\r\n    this.updateTotal();\r\n};\r\n\r\nCalculator.prototype.selectEvent = function (e) {\r\n    this.form.package.classList.toggle(\"open\");\r\n\r\n    const value = typeof e.target.dataset.value !== \"undefined\" ? e.target.dataset.value : \"\";\r\n    const text = typeof e.target.dataset.value !== \"undefined\" ? e.target.innerText : \"Choose package\";\r\n\r\n    if (value.length > 0) {\r\n        this.form.package.dataset.value = value;\r\n        this.form.package.querySelector(\".select__input\").innerText = text;\r\n\r\n        this.updateSummary(\"package\", text, this.prices.package[value]);\r\n        this.updateTotal();\r\n    }\r\n};\r\n\r\nCalculator.prototype.checkboxEvent = function (e) {\r\n    const checkbox = e.currentTarget;\r\n    const id = checkbox.id;\r\n    const checked = e.currentTarget.checked;\r\n\r\n    this.updateSummary(id, undefined, this.prices[id], function (item) {\r\n        if (!checked) {\r\n            item.classList.remove(\"open\");\r\n        }\r\n    });\r\n\r\n    this.updateTotal();\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n    const form = document.querySelector(\".calc__form\");\r\n    const summary = document.querySelector(\".calc__summary\");\r\n\r\n    new Calculator(form, summary);\r\n});"],"names":[],"version":3,"file":"index.7c0ccee6.js.map","sourceRoot":"/__parcel_source_root/"}